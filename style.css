let step = 0;

const monthEl = document.getElementById("month");
const fox = document.getElementById("fox");
const text = document.getElementById("text");
const light = document.getElementById("light");

const timeline = [
  { month: "January", text: "Some things don’t need to be said." },
  { month: "April",   text: "They’re noticed by staying." },
  { month: "August",  text: "" },
  { month: "November", text: "I’m still here.", arrive: true }
];

function showText(content) {
  text.classList.remove("show");
  setTimeout(() => {
    text.innerHTML = content;
    if (content) text.classList.add("show");
  }, 300);
}

function updateMonth(name) {
  monthEl.classList.add("flip");

  setTimeout(() => {
    monthEl.innerText = name;
    monthEl.classList.remove("flip");
  }, 300);
}

function nextStep() {
  if (step >= timeline.length) return;

  const current = timeline[step];

  updateMonth(current.month);

  if (current.arrive) {
    light.classList.add("show");
    fox.classList.remove("waiting");
    fox.classList.add("happy");
    showText(current.text);
  } else {
    showText(current.text);
  }

  step++;
}

/* initial state */
updateMonth(timeline[0].month);
showText(timeline[0].text);
